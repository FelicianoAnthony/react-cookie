[{"/home/fel896/stories/react/react-cookies/src/index.js":"1","/home/fel896/stories/react/react-cookies/src/App.js":"2","/home/fel896/stories/react/react-cookies/src/reportWebVitals.js":"3","/home/fel896/stories/react/react-cookies/src/AuthApi.js":"4"},{"size":500,"mtime":1608522777967,"results":"5","hashOfConfig":"6"},{"size":2118,"mtime":1608524174225,"results":"7","hashOfConfig":"6"},{"size":362,"mtime":1608522777980,"results":"8","hashOfConfig":"6"},{"size":90,"mtime":1608523430149,"results":"9","hashOfConfig":"6"},{"filePath":"10","messages":"11","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"12"},"e6md9d",{"filePath":"13","messages":"14","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"15"},{"filePath":"16","messages":"17","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"18","messages":"19","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/home/fel896/stories/react/react-cookies/src/index.js",[],["20","21"],"/home/fel896/stories/react/react-cookies/src/App.js",["22","23"],"import logo from './logo.svg';\nimport './App.css';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link, \n  Redirect\n} from \"react-router-dom\";\n\nimport React from \"react\";\nimport AuthApi from \"./AuthApi\"\n\nimport Cookies from 'js-cookie';\n\nfunction App() {\n\n  const readCookie = () => {\n    const user = Cookies.get('user'); \n    if (user) {\n      setAuth(true)\n    }\n  }\n\n  React.useEffect(() => {\n    readCookie();\n  })\n\n  const [auth, setAuth] = React.useState(false);\n  return (\n    <div className=\"App\">\n      \n      <AuthApi.Provider value={{auth, setAuth}}>\n        <Router> \n          <Routes/>  \n        </Router>\n      </AuthApi.Provider>\n    </div>\n  );\n}\n\n\nconst Login = () => {\n\n\n  const Auth = React.useContext(AuthApi)\n\n  const handleOnClick = () => {\n    Auth.setAuth(true)\n    Cookies.set('user', 'loginTrue')\n  }\n\n\n  return (\n    <div>\n      <h1> welcome to website </h1> \n      <button onClick={handleOnClick}> Login </button>\n    </div>\n  )\n}\n\nconst Dashboard = () => {\n\n  const Auth = React.useContext(AuthApi)\n\n  const handleOnClick = () => {\n    Auth.setAuth(false)\n    Cookies.remove('user')\n  }\n\n  return (\n    <div> \n      <h1> Dashboard </h1>\n    <button onClick={handleOnClick}> Logout </button>\n    </div>\n  )\n}\n\nconst Routes = () => {\n\n  const Auth = React.useContext(AuthApi)\n\n  return (\n    <Switch>\n      <ProtectedLogin path='/login' component={Login} auth={Auth.auth}/>\n      <ProtectedRoute path='/dashboard' auth={Auth.auth} component={Dashboard}/>\n    </Switch>\n  )\n}\n\n\nconst ProtectedRoute = ({auth, component: Component,...rest}) => {\n\n  console.log(`auth protected route ${JSON.stringify(auth)}`)\n  return  (\n  <Route\n    {...rest}\n    render= {() => auth ?(\n      <Component/>\n    ) :\n      (\n        <Redirect to='/login'/>\n      )\n  \n    }\n  />\n  )\n}\n\n\nconst ProtectedLogin = ({auth, component: Component,...rest}) => {\n\n  console.log(`auth protected route ${JSON.stringify(auth)}`)\n  return  (\n  <Route\n    {...rest}\n    render= {() => !auth ?(\n      <Component/>\n    ) :\n      (\n        <Redirect to='/dashboard'/>\n      )\n  \n    }\n  />\n  )\n}\n\nexport default App;\n","/home/fel896/stories/react/react-cookies/src/reportWebVitals.js",[],"/home/fel896/stories/react/react-cookies/src/AuthApi.js",[],{"ruleId":"24","replacedBy":"25"},{"ruleId":"26","replacedBy":"27"},{"ruleId":"28","severity":1,"message":"29","line":1,"column":8,"nodeType":"30","messageId":"31","endLine":1,"endColumn":12},{"ruleId":"28","severity":1,"message":"32","line":7,"column":3,"nodeType":"30","messageId":"31","endLine":7,"endColumn":7},"no-native-reassign",["33"],"no-negated-in-lhs",["34"],"no-unused-vars","'logo' is defined but never used.","Identifier","unusedVar","'Link' is defined but never used.","no-global-assign","no-unsafe-negation"]